<%= render 'components/breadcrumb', breadcrumbs: [
  { text: 'Home', path: root_path},
  { text: 'Restaurants', path: restaurant_sub_restaurants_path(@restaurant)}
] %>

<div class='px-3 py-5 flex flex-col gap-4'>
  <h4 class='font-semibold mb-5 capitalize my-5'>Restaurants</h4>

  <div class='flex flex-col gap-5 sm:w-3/4 text-sm'>
    <% @sub_restaurants.each do |sub_restaurant| %>
      <div class='flex bg-gray-100 p-3 bg-white shadow-lg rounded relative'>
        <div class='flex gap-5'>
          <div class='flex items-center gap-5'>
            <% if sub_restaurant.logo.attached? %>
              <%= image_tag sub_restaurant.logo, class: 'w-16 h-16 object-cover' %>
            <% else %>
              <div class='w-16 h-16 bg-gray-200'></div>
            <% end %>
            <div>
              <%= link_to sub_restaurant.name , restaurant_sub_restaurant_path(@restaurant, sub_restaurant),class: 'font-semibold text-sm text-gray-900 capitalize hover:underline' %>
              <% if sub_restaurant.locations.any? %>
                <i class='fas fa-map-marker-alt text-gray-500'></i>
              <% end %>
            </div>
          </div>

          <div class='absolute gap-3 right-2 top-[50%] flex'>
            <%= link_to  edit_restaurant_sub_restaurant_path(@restaurant, sub_restaurant), class: 'text-blue-500 px-4 py-2 text-sm rounded hover:bg-blue-500 hover:text-white' do %>
              <i class='fas fa-pencil-alt' title="edit"></i>
            <% end %>
            <%= button_to restaurant_sub_restaurant_path(@restaurant, sub_restaurant), method: :delete, data: { confirm: 'Are you sure you want to delete this restaurant?' }, class: 'text-red-500 px-4 py-2 text-sm rounded hover:bg-red-500 hover:text-white' do %>
              <i class='fas fa-trash-alt' title="delete"></i>
            <% end %>
            <% if sub_restaurant.locations.blank? %>
              <%= link_to new_location_restaurant_sub_restaurant_path(@restaurant, sub_restaurant), class: 'text-green-500 px-4 py-2 text-sm rounded hover:bg-green-500 hover:text-white' do %>
                <i class="fa-solid fa-location-dot" title="add a location"></i>
              <% end %>
            <% end %>

        </div>
      </div>
    <% end %>
  </div>
</div>